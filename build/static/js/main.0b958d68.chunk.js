(this.webpackJsonptaskscheduler=this.webpackJsonptaskscheduler||[]).push([[0],{190:function(e,t,a){e.exports=a(344)},195:function(e,t,a){},196:function(e,t,a){},344:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),l=a.n(o),c=(a(195),a(95)),s=a(96),i=a(112),d=a(110),u=(a(196),a(348)),m=a(41),f=a(352),h=a(115),v=a(123),b=a.n(v),S=a(71),p=a(153),w=a(98),E=a(126),g=a(127),k=a(351),y=a(350),O=a(347),j=a(349),D=a(345),x=a(353),C=a(346),H=a(154),I=a.n(H),A=k.a.Countdown,T=r.a.createContext(),R=function(e){e.index;var t=Object(g.a)(e,["index"]),a=O.a.useForm(),n=Object(E.a)(a,1)[0];return r.a.createElement(O.a,{form:n,component:!1},r.a.createElement(T.Provider,{value:n},r.a.createElement("tr",t)))},B=function(e){var t=e.title,a=e.editable,o=e.children,l=e.dataIndex,c=e.record,s=e.handleSave,i=Object(g.a)(e,["title","editable","children","dataIndex","record","handleSave"]),d=Object(n.useState)(!1),u=Object(E.a)(d,2),m=u[0],f=u[1],h=Object(n.useRef)(),v=Object(n.useContext)(T);Object(n.useEffect)((function(){m&&h.current.focus()}),[m]);var k=function(){f(!m),v.setFieldsValue(Object(w.a)({},l,c[l]))},y=function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.validateFields();case 3:a=e.sent,k(),s(Object(S.a)(Object(S.a)({},c),a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),D=o;return a&&(D=m?r.a.createElement(O.a.Item,{style:{margin:0},name:l,rules:[{required:!0,message:"".concat(t," is required.")}]},r.a.createElement(j.a,{ref:h,onPressEnter:y,onBlur:y})):r.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:k},o)),r.a.createElement("td",i,D)},Y=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleDelete=function(e){if(console.log(n.state.count,n.state.counter),n.state.count-n.state.counter<=1)console.log("Can't delete this mandatory server"),a="error",y.a[a]({message:"Cannot Delete Mandatory Server",description:"You are trying to delete a manadatory server, atleast one server should be always available in Dashboard."});else{var t=Object(h.a)(n.state.dataSource);n.setState({dataSource:t.filter((function(t){return t.key!==e})),counter:n.state.counter+1}),function(e){y.a[e]({message:"An old server is deleted.",description:"A server is deleted from the dashboard, Please be careful while doing this operation."})}("info"),console.log("An old server is deleted.")}var a},n.handleAdd=function(){if(n.state.count-n.state.counter>9)console.log("can't add more than 10 rows."),c="warning",y.a[c]({message:"Server Limit Reached to 10",description:"You can deploy a maximum of 10 servers more than that can not be deployed, Please delete an old server to add a new one."});else{var e=n.state,t=e.count,a=e.dataSource,o=I()().format("DD/MM/YYYY"),l={key:t,name:"New Server ".concat(t),date:o,description:r.a.createElement(A,{value:Date.now()+0,format:"HH:mm:ss:SSS"})};n.setState({dataSource:[].concat(Object(h.a)(a),[l]),count:t+1}),function(e){y.a[e]({message:"New Server Added",description:"A new server is added to the Dashboard."})}("success"),console.log("A new server is added to the Dashboard.")}var c},n.handleSave=function(e){var t=Object(h.a)(n.state.dataSource),a=t.findIndex((function(t){return e.key===t.key})),r=t[a];t.splice(a,1,Object(S.a)(Object(S.a)({},r),e)),n.setState({dataSource:t})},n.handleChangeTask=function(e){n.setState({tasks:e}),console.log("tasks changed",e);var t=[],a=n.state.count-n.state.counter;console.log(a,"number of rows"),a>=e?(n.state.dataSource.map((function(a,n){return t.push({key:a.key,name:a.name,date:a.date,description:n<e?r.a.createElement(A,{value:Date.now()+1e4,format:"HH:mm:ss:SSS"}):r.a.createElement(A,{value:Date.now()+0,format:"HH:mm:ss:SSS"})})})),n.setState({dataSource:t})):setTimeout((function(){n.state.dataSource.map((function(a,n){return t.push({key:a.key,name:a.name,date:a.date,description:n<e?r.a.createElement(A,{value:Date.now()+1e4,format:"HH:mm:ss:SSS"}):r.a.createElement(A,{value:Date.now()+0,format:"HH:mm:ss:SSS"})})})),n.setState({dataSource:t})}),10500)},n.columns=[{title:"name",dataIndex:"name",width:"30%",editable:!0},{title:"date",dataIndex:"date"},{title:"Time left per task",dataIndex:"description"},{title:"operation",dataIndex:"operation",render:function(e,t){return n.state.dataSource.length>=1?r.a.createElement(D.a,{title:"Sure to delete?",onConfirm:function(){return n.handleDelete(t.key)}},r.a.createElement("a",null,"Remove a server")):null}}],n.state={dataSource:[{key:"0",name:"Default Server",date:"29/09/2020",description:r.a.createElement(A,{value:Date.now()+0,format:"HH:mm:ss:SSS"})}],count:1,counter:0,tasks:0,timeleftpertask:0},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.dataSource,a={body:{row:R,cell:B}},n=this.columns.map((function(t){return t.editable?Object(S.a)(Object(S.a)({},t),{},{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t}));return r.a.createElement("div",null,r.a.createElement(m.a,{onClick:this.handleAdd,type:"primary"},"Add a server, Total upto 10."),r.a.createElement(x.a,{style:{marginTop:"1%",marginBottom:"1%",marginRight:"1%",marginLeft:"1%"},min:0,defaultValue:0,onChange:this.handleChangeTask}),"Add Tasks Here",r.a.createElement(A,{title:"Total time needed to complete all tasks if single server is used, this will update everytime whenever a new server is added or task is updated because it calculates constant time i.e number of tasks * 10",value:Date.now()+1e4*this.state.tasks,format:"HH:mm:ss:SSS"}),r.a.createElement(C.a,{components:a,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:n}))}}]),a}(r.a.Component),N=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null," ",r.a.createElement("div",{className:"site-page-header-ghost-wrapper"},r.a.createElement(u.a,{ghost:!1,onBack:function(){return window.location.reload()},title:"DASHBOARD TO SCHEDULER",subTitle:"We can monitor jobs here",extra:[r.a.createElement(m.a,{key:"2",type:"primary",onClick:function(){return window.location.reload()}},"Home")]},r.a.createElement(f.a,{size:"small",column:3},r.a.createElement(f.a.Item,{label:"Created"},"Saurabh Kumar"),r.a.createElement(f.a.Item,{label:"Association"},r.a.createElement("a",null,"Sample Project")),r.a.createElement(f.a.Item,{label:"Creation Time"},"29th September 2020"),r.a.createElement(f.a.Item,{label:"Effective Time"},"29th September 2020"),r.a.createElement(f.a.Item,{label:"Remarks"},"This DASHBOARD will monitor all the server task and",r.a.createElement("br",null)," time remaining time for all tasks."))),r.a.createElement("div",{style:{marginLeft:"2%"}},r.a.createElement(Y,null))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[190,1,2]]]);
//# sourceMappingURL=main.0b958d68.chunk.js.map